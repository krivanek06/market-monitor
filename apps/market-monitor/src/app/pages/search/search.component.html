<div>Stock News</div>

<div class="grid mb-10 md:grid-cols-2 xl:grid-cols-7 gap-x-10 gap-y-4">
  <!-- favorite stocks -->
  <div class="xl:col-span-2">
    <app-stock-summary-item-table
      tableTitle="Favorite Stocks"
      (summaryClickEmitter)="onSummaryClick($event)"
      [showSkeleton]="(isStockSummaryLoaded$ | async) === false"
      [stockSummaries]="favoriteStocks$ | async"
    ></app-stock-summary-item-table>
  </div>

  <div class="pt-20 md:col-span-2 xl:col-span-3 max-xl:order-first">
    <h1 class="text-center">Search Stock</h1>
    <app-stock-basic-search [formControl]="searchControl"></app-stock-basic-search>
  </div>

  <!-- Last searched stocks -->
  <div class="xl:col-span-2">
    <app-stock-summary-item-table
      tableTitle="Last Searched Stocks"
      (summaryClickEmitter)="onSummaryClick($event)"
      [showSkeleton]="(isStockSummaryLoaded$ | async) === false"
      [stockSummaries]="searchedStocks$ | async"
    ></app-stock-summary-item-table>
  </div>
</div>

<div class="">
  <div class="flex items-start gap-3 mb-2 sm:justify-end">
    <!-- select / tabs -->
    <app-tab-select-control
      [formControl]="topStockDisplayControl"
      class="max-md:w-full"
      [displayOptions]="marketTopStocksOptions"
    ></app-tab-select-control>

    <!-- button on small screen -->
    <div class="w-full mt-2 sm:hidden">
      <button mat-stroked-button class="w-full text-sm" (click)="toggleDisplayedValues()">
        {{ showPriceSignal() ? 'Price +/-' : 'Info' }}
      </button>
    </div>
  </div>

  <ng-container *ngIf="marketOverview$ | async as marketOverview">
    <app-stock-summary-table [stockSummaries]="marketOverview[topStockDisplayControl.value]"></app-stock-summary-table>
  </ng-container>
</div>
