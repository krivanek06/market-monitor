<div
  *ngIf="portfolioStateSignal() as portfolioState"
  class="grid gap-4 mx-auto mb-8 xl:gap-10 sm:grid-cols-3 xl:w-10/12"
>
  <app-fancy-card title="Account State" [colorPrimary]="ColorScheme.PRIMARY_VAR">
    <app-portfolio-state
      classes="grid gap-4 sm:grid-cols-2"
      [titleColor]="ColorScheme.PRIMARY_VAR"
      [valueColor]="ColorScheme.GRAY_LIGHT_VAR"
      [showCashSegment]="authenticationUserService.userData.settings.isPortfolioCashActive"
      [portfolioState]="portfolioState"
    ></app-portfolio-state>
  </app-fancy-card>

  <app-fancy-card title="Account State" [colorPrimary]="ColorScheme.SUCCESS_VAR">
    <app-portfolio-state
      [titleColor]="ColorScheme.SUCCESS_VAR"
      [showCashSegment]="authenticationUserService.userData.settings.isPortfolioCashActive"
      [portfolioState]="portfolioState"
    ></app-portfolio-state>
  </app-fancy-card>

  <app-fancy-card title="Account State" [colorPrimary]="ColorScheme.DANGER_VAR">
    <app-portfolio-state
      [titleColor]="ColorScheme.DANGER_VAR"
      [showCashSegment]="authenticationUserService.userData.settings.isPortfolioCashActive"
      [portfolioState]="portfolioState"
    ></app-portfolio-state>
  </app-fancy-card>
</div>

<!-- portfolio change -->
<div class="mb-8 lg:px-10">
  <app-portfolio-period-change
    *ngIf="portfolioChangeSignal() as portfolioChange"
    [portfolioChange]="portfolioChange"
  ></app-portfolio-period-change>
</div>

<!-- charts -->
<div class="mb-8">
  <app-portfolio-growth-chart
    *ngIf="portfolioGrowthSignal() as portfolioGrowthSignal"
    [data]="portfolioGrowthSignal"
  ></app-portfolio-growth-chart>
</div>

<!-- holdings pie charts -->
<div class="flex justify-around overflow-x-clip">
  <app-generic-chart
    *ngIf="portfolioAssetAllocation() as portfolioAssetAllocation"
    chartTitle="Asset Allocation"
    [heightPx]="380"
    [showDataLabel]="true"
    chartTitlePosition="center"
    [series]="[portfolioAssetAllocation]"
  ></app-generic-chart>
  <app-generic-chart
    *ngIf="portfolioSectorAllocation() as portfolioSectorAllocation"
    [heightPx]="380"
    chartTitle="Sector Allocation"
    [showDataLabel]="true"
    chartTitlePosition="center"
    [series]="[portfolioSectorAllocation]"
  ></app-generic-chart>
</div>
