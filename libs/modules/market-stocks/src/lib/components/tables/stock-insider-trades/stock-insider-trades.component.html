<table mat-table [dataSource]="dataSource" matSort [trackBy]="identity">
  <!-- person -->
  <ng-container matColumnDef="person">
    <th mat-header-cell mat-sort-header *matHeaderCellDef class="hidden sm:table-cell">Person</th>
    <td mat-cell *matCellDef="let row">
      <div class="grid">
        <span class="text-wt-gray-dark">{{ row.reportingName }}</span>
        <span>{{ row.typeOfOwner }}</span>
      </div>
    </td>
  </ng-container>

  <!-- security -->
  <ng-container matColumnDef="securityName">
    <th mat-header-cell mat-sort-header *matHeaderCellDef class="hidden sm:table-cell">Security</th>
    <td mat-cell *matCellDef="let row" class="hidden sm:table-cell">
      <div class="space-x-2">
        <span>{{ row.securityName }}</span>
        <span>({{ row.acquistionOrDisposition }})</span>
      </div>
    </td>
  </ng-container>

  <!-- transactionType -->
  <ng-container matColumnDef="transactionType">
    <th mat-header-cell mat-sort-header *matHeaderCellDef class="hidden sm:table-cell">Transaction</th>
    <td mat-cell *matCellDef="let row" class="hidden sm:table-cell">
      <span
        [ngClass]="{
        'text-wt-success': row.transactionType === 'G-Gift',
        'text-wt-danger': row.transactionType === 'S-Sale',
        'text-wt-gray-dark': row.transactionType !== 'G-Gift' && row.transactionType !== 'S-Sale',
      }"
      >
        {{ row.transactionType }}
      </span>
    </td>
  </ng-container>

  <!-- price -->
  <ng-container matColumnDef="price">
    <th mat-header-cell mat-sort-header *matHeaderCellDef class="hidden sm:table-cell">Price</th>
    <td mat-cell *matCellDef="let row" class="hidden sm:table-cell">
      {{ row.price | currency }}
    </td>
  </ng-container>

  <!-- securitiesTransacted -->
  <ng-container matColumnDef="securitiesTransacted">
    <th mat-header-cell mat-sort-header *matHeaderCellDef class="hidden sm:table-cell">Units</th>
    <td mat-cell *matCellDef="let row" class="hidden sm:table-cell">
      {{ row.securitiesTransacted }}
    </td>
  </ng-container>

  <!-- total -->
  <ng-container matColumnDef="total">
    <th mat-header-cell mat-sort-header *matHeaderCellDef class="hidden sm:table-cell">Total</th>
    <td mat-cell *matCellDef="let row" class="hidden sm:table-cell">
      {{ row.securitiesTransacted * row.price | largeNumberFormatter : false : true }}
    </td>
  </ng-container>

  <!-- date -->
  <ng-container matColumnDef="date">
    <th mat-header-cell mat-sort-header *matHeaderCellDef class="hidden sm:table-cell">Date</th>
    <td mat-cell *matCellDef="let row" class="hidden sm:table-cell">
      {{ row.transactionDate | date : 'MMMM d, y' }}
    </td>
  </ng-container>

  <!-- redirect -->
  <ng-container matColumnDef="redirect">
    <th mat-header-cell mat-sort-header *matHeaderCellDef class="hidden sm:table-cell">Redirect</th>
    <td mat-cell *matCellDef="let row" class="hidden sm:table-cell">
      <button mat-icon-button (click)="onRedirect(row)">
        <mat-icon>open_in_new</mat-icon>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns" class="hidden sm:contents"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns; let even = even; let odd = odd"></tr>

  <!-- Row shown when there is no matching data. -->
  <tr class="mat-row" *matNoDataRow>
    <td class="mat-cell" colspan="10">No data has been found</td>
  </tr>
</table>

<!-- pagination -->
<div *ngIf="dataSource.filteredData" class="flex items-center justify-end">
  <mat-paginator
    appBubblePagination
    showFirstLastButtons
    [length]="dataSource.filteredData.length"
    [appCustomLength]="dataSource.filteredData.length"
    [pageSize]="25"
  ></mat-paginator>
</div>
