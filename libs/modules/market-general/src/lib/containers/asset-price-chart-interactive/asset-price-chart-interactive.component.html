<!-- time period form control -->
<div class="mb-4">
  <app-time-period-buttons [formControl]="timePeriodFormControl"></app-time-period-buttons>
</div>

<ng-container *ngIf="stockHistoricalPrice().length > 0; else chartSkeleton">
  <!-- time data about chart -->
  <div class="flex justify-between text-wt-gray-medium">
    <div class="flex items-center gap-2">
      <img *ngIf="showImage" appDefaultImg imageType="symbol" [src]="symbol" alt="Asset Image" class="h-6 w-6" />
      <span class="hidden sm:block">{{ title }}</span>
    </div>
    <span class="block">
      {{ stockHistoricalPrice()[0].date | date : 'MMMM d, y' }} -
      {{ stockHistoricalPrice()[stockHistoricalPrice().length - 1].date | date : 'MMMM d, y' }}
    </span>
  </div>

  <!-- price & volume chart -->
  <app-asset-price-chart
    [priceShowSign]="priceShowSign"
    [priceName]="priceName"
    [displayVolume]="displayVolume"
    [historicalPrice]="stockHistoricalPrice()"
    [heightPx]="chartHeightPx"
  ></app-asset-price-chart>
</ng-container>

<!-- skeleton chart -->
<ng-template #chartSkeleton>
  <!-- chart title and date range -->
  <div class="flex justify-between mb-3 max-sm:pl-4">
    <div class="g-skeleton w-[125px] h-6"></div>
    <div class="g-skeleton w-[350px] h-6"></div>
  </div>

  <div [style.height.px]="chartHeightPx" class="g-skeleton"></div>
</ng-template>
