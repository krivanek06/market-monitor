<div class="flex items-center justify-between p-4 mb-4">
  <!-- display user -->
  <div *ngIf="userDataSignal() as user" class="flex items-center gap-2">
    <img appDefaultImg [src]="user.personal.photoURL" alt="User Image" class="rounded-full w-14 h-14" />
    <div class="flex flex-col">
      <span class="text-xl">{{ user.personal.displayName }}</span>
      <span class="text-sm">{{ user.accountCreatedDate | date: 'MMMM d, y' }}</span>
    </div>

    <!-- action buttons -->
    <div class="ml-8 -mb-4">
      <!-- navigation -->
      <app-tab-select-control
        [formControl]="selectedTabControl"
        [displayOptions]="displayOptions"
      ></app-tab-select-control>
    </div>
  </div>

  <!-- close -->
  <div>
    <button mat-icon-button color="warn" type="button" (click)="onDialogClose()">
      <mat-icon>close</mat-icon>
    </button>
  </div>
</div>

<mat-dialog-content class="h-[650px]">
  @if (userDataSignal(); as userData) {
    <!-- overview -->
    <app-user-details-overview
      *ngIf="selectedTabControl.value === 'overview'"
      [userData]="userData"
      [portfolioGrowth]="portfolioGrowthSignal()"
    ></app-user-details-overview>

    <!-- holdings -->
    <app-user-details-holdings
      *ngIf="selectedTabControl.value === 'holdings'"
      [holdings]="portfolioStateHoldingSignal()?.holdings ?? []"
      [holdingsBalance]="portfolioStateHoldingSignal()?.balance ?? 0"
    ></app-user-details-holdings>
  } @else {
    <mat-spinner></mat-spinner>
  }
</mat-dialog-content>
